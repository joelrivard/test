<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Geocoding spreadsheets - Introduction to mapping and spatial methods for the humanities</title>
    <meta name="generator" content="Hugo 0.20.7" />

    
    <meta name="description" content="Tutorial designed for DHSITE 2018 in Ottawa.">
    
    <link rel="canonical" href="https://ssimpkin.github.io/dhsite2018/geocoding-spreadsheets/">
    
    <meta name="author" content="Sarah Simpkin and Joel Rivard">
    

    <meta property="og:url" content="https://ssimpkin.github.io/dhsite2018/geocoding-spreadsheets/">
    <meta property="og:title" content="Introduction to mapping and spatial methods for the humanities">
    <meta property="og:image" content="https://ssimpkin.github.io/dhsite2018/images/logo.jpg">
    <meta name="apple-mobile-web-app-title" content="Introduction to mapping and spatial methods for the humanities">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://ssimpkin.github.io/dhsite2018/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://ssimpkin.github.io/dhsite2018/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://ssimpkin.github.io/dhsite2018/fonts/icon.eot');
        src: url('https://ssimpkin.github.io/dhsite2018/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://ssimpkin.github.io/dhsite2018/fonts/icon.woff')
               format('woff'),
             url('https://ssimpkin.github.io/dhsite2018/fonts/icon.ttf')
               format('truetype'),
             url('https://ssimpkin.github.io/dhsite2018/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://ssimpkin.github.io/dhsite2018/stylesheets/application.css">
    <link rel="stylesheet" href="https://ssimpkin.github.io/dhsite2018/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://ssimpkin.github.io/dhsite2018/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://ssimpkin.github.io/dhsite2018/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://ssimpkin.github.io/dhsite2018/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-indigo palette-accent-amber">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Geocoding spreadsheets
      </div>
    </div>

    

    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://ssimpkin.github.io/dhsite2018/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://ssimpkin.github.io/dhsite2018/images/logo.jpg">
        </div>
      
      <div class="name">
        <strong>Introduction to mapping and spatial methods for the humanities </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Welcome" href="https://ssimpkin.github.io/dhsite2018/">
	
	Welcome
</a>



  
</li>



<li>
  
    



<a  title="Getting started" href="https://ssimpkin.github.io/dhsite2018/getting-started/">
	
	Getting started
</a>



  
</li>



<li>
  
    



<a  title="Geospatial data" href="https://ssimpkin.github.io/dhsite2018/geospatial-data/">
	
	Geospatial data
</a>



  
</li>



<li>
  
    



<a  title="Georeferencing maps" href="https://ssimpkin.github.io/dhsite2018/georeferencing-maps/">
	
	Georeferencing maps
</a>



  
</li>



<li>
  
    



<a  title="Digitizing maps" href="https://ssimpkin.github.io/dhsite2018/digitizing-maps/">
	
	Digitizing maps
</a>



  
</li>



<li>
  
    



<a class="current" title="Geocoding spreadsheet data" href="https://ssimpkin.github.io/dhsite2018/geocoding-spreadsheets/">
	
	Geocoding spreadsheet data
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Joining datasets" href="https://ssimpkin.github.io/dhsite2018/joining-datasets/">
	
	Joining datasets
</a>



  
</li>



<li>
  
    



<a  title="Next steps" href="https://ssimpkin.github.io/dhsite2018/next-steps/">
	
	Next steps
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Geocoding spreadsheets </h1>

			

<h2 id="overview">Overview</h2>

<p>Geographic clues can be hidden in all kinds of documents. In this exercise, we&rsquo;ll collect addresses from the 1890-1891 Ottawa Directory. Library and Archives Canada has digitized <a href="http://www.bac-lac.gc.ca/eng/discover/directories-collection/Pages/directories-collection.aspx">95 microfiche versions of pre-1901 Canadian directories</a>. These are useful resources for researching where people and businesses were located (and the ads are pretty cool too). The following exercise will require a Google account.</p>

<p><img src="https://ssimpkin.github.io/dhsite2018/images/directory.jpg" alt="Image of directories" /></p>

<h3 id="data-files">Data files</h3>

<ul>
<li><a href="https://docs.google.com/spreadsheets/d/1YOba-Bb9S_6Gr68zSujqmbtTF-mPrqSJuUG85aIXzrU/edit?usp=sharing">Google Sheet with template</a></li>
<li><a href="http://ssimpkin.github.io/dhsite2017/files/Directory_1890.pdf">PDF of the Ottawa Directory from 1890-1891</a></li>
</ul>

<h2 id="adding-data-to-the-table">Adding data to the table</h2>

<p>Make a copy of the <a href="https://docs.google.com/spreadsheets/d/1YOba-Bb9S_6Gr68zSujqmbtTF-mPrqSJuUG85aIXzrU/edit?usp=sharing">Google Sheets template</a> by clicking <code>File &gt; Make a copy</code>.</p>

<p>Next, open the directory PDF and scroll to page 83. You&rsquo;ll see that I&rsquo;ve begun transcribing the information from the buildings along the south side of Lisgar Street onto the spreadsheet, beginning with the intersection at Metcalfe Street.</p>

<p>Each business is given its own line, and each piece of information about the business is given its own column. These columns are known as attributes.</p>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As you can imagine, modern-day geocoders work best with modern-day address data (we may be pushing it a little). Watch out for renumbered and renamed streets if you attempt this process with historical data. Reference materials such as fire insurance plans can be useful for doing a quality check of historical addresses.</p>
</div>

<p>Refer to your assigned FIP sheet to know which portions of the directory will need to be transcribed for your section. Delete the sample data in the first three rows before proceeding to the next step.</p>

<h2 id="exporting-a-csv-file">Exporting a CSV file</h2>

<p>Export the completed table as a CSV file by clicking <code>File &gt; Download as &gt; Comma-separated values (.csv, current sheet)</code>. Save to your computer.</p>

<h2 id="installing-the-geocoder-plug-in">Installing the geocoder plug-in</h2>

<p>We will use the MMQGIS plug-in to geocode our addresses.</p>

<p><img src="http://drive.google.com/uc?export=view&amp;id=1BJthnNboI3zCJOg_LqD1zUVcWxvJ7Fec" alt="Add MMQGIS plug-in" /></p>

<h2 id="set-parameters-for-geocoding">Set parameters for geocoding</h2>

<p>Set parameters for geocoding, assigning the correct fields to each part of the address (street, city, state/province, country, etc.) and choose a web service.</p>

<p><img src="http://drive.google.com/uc?export=view&amp;id=1yxMQC92VUW26LXDYM0CFO9K8ZeML1hCi" alt="Set parameters" /></p>

<p>In this case, we’ll choose OpenStreetMap. If you were to choose Google Maps, you’d have to assign a <a href="https://console.developers.google.com/apis/api/maps_backend/overview">Google Maps API key</a>. Using either of these services will save our output shapefile with the epsg:4326 coordinate system.</p>

<h2 id="start-geocoding">Start geocoding</h2>

<p>Click OK to begin the geocoding process.</p>

<p><img src="http://drive.google.com/uc?export=view&amp;id=18aOeEMYX2pXeNLgxiZpGBZeubZZ0UgCQ" alt="Start geocoding" /></p>

<p>You&rsquo;ll see that points have appeared along the streets (hopefully near your assigned area). The geocoder took a look at the street addresses and made a best guess about where they might go, based on modern-day data.</p>

<p>Features for which there was a geocoding match (based on contemporary data) will be added to the map as points, with precision information included as additional columns in the attribute table. Take some time to review the point placement and make any adjustments to the points.</p>

<p>You can imagine that the buildings and their numbers have likely undergone some major changes since 1890. Fortunately, we can import a reference image to help us quality check the point placements.</p>

<h2 id="adjustments">Adjustments</h2>

<p>Make any adjustments to the address points (sometimes addresses will be in the centres of modern-day buildings). Using the historical map as a reference, we can have a better idea of how each block looked closer to the time the directory was published.</p>

<p><img src="http://drive.google.com/uc?export=view&amp;id=1Q1UCFJFjvrKHLkC0dD9f2Ixq4KcXS_LX" alt="Make adjustments" /></p>

<p>Adjustments to the points can be made using the toggle edit tool and then moving the points to the desired location.</p>

<p>Once you&rsquo;re happy with the point placement, proceed to the joining datasets step.</p>


			<aside class="copyright" role="note">
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://ssimpkin.github.io/dhsite2018/digitizing-maps/" title="Digitizing maps">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Digitizing maps
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://ssimpkin.github.io/dhsite2018/joining-datasets/" title="Joining datasets">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Joining datasets
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://ssimpkin.github.io/dhsite2018/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

